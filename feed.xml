<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" xml:lang="en"><generator uri="https://jekyllrb.com/" version="4.3.3">Jekyll</generator><link href="https://fmcgeough.github.io/feed.xml" rel="self" type="application/atom+xml"/><link href="https://fmcgeough.github.io/" rel="alternate" type="text/html" hreflang="en"/><updated>2025-10-07T18:24:22+00:00</updated><id>https://fmcgeough.github.io/feed.xml</id><title type="html">blank</title><subtitle>A simple, whitespace theme for academics. Based on [*folio](https://github.com/bogoli/-folio) design. </subtitle><entry><title type="html">Code Optimization</title><link href="https://fmcgeough.github.io/blog/2025/optimizing/" rel="alternate" type="text/html" title="Code Optimization"/><published>2025-10-07T00:00:00+00:00</published><updated>2025-10-07T00:00:00+00:00</updated><id>https://fmcgeough.github.io/blog/2025/optimizing</id><content type="html" xml:base="https://fmcgeough.github.io/blog/2025/optimizing/"><![CDATA[<h2 id="in-the-past">In the Past</h2> <p>I was lucky that my first software job was working at a small boutique company that built full systems (hardware and software) on a contract basis for larger companies who lacked the expertise to build the product that they wanted to sell.</p> <p>The CEO of the boutique company was a smart man who always wanted us to deliver the best possible product for the company that contracted us. There was a healthy atmosphere of reexamining whatever got built to see if 1) it met the customer requirements; 2) performance or user experience improvements might be possible. Meeting the customer requirements was required. Performance improvements were welcomed (and celebrated) as long as they wouldn’t risk violation of our hard deliverable date. In other words, we couldn’t endlessly tinker with what we were building.</p> <h2 id="lessons-learned">Lessons Learned</h2> <p>The practice of reexamining code and looking for performance improvements led to a fundamental (humbling) principle: “Any code, whether written by you or someone else, can have it’s performance improved”. You will hear throughout your career that some important code cannot possibly be made faster. This is almost always false.</p> <p>There are some common approaches to improving performance.</p> <ul> <li>Look for code that can be moved out of a loop. This can be an easy win. If some variable is being initialized to the same value every time through a loop it should not be in the loop</li> <li>Examine the algorithm that is being used and what is actually needed to solve the problem. Leverage algorithm research. There are advances and they may not have been available at the time the code was originally written</li> <li>Examine the options within the language or tool you are using. Many (most) times code is written a certain way because it’s just always been written that way. Or it was written that way because the tool used had no other option at the time. Is there a different way to approach solving the problem?</li> <li>Can the problem be worked on in parallel?</li> </ul> <p>There are times where it’s not worth the engineering time to work on slower performing code. You know its slow. You can have a clear idea of how you might make it faster. That doesn’t necessarily mean that you should modify the code. Generally, if an engineer wanted to put in a performance improvement I’d consider how close we are to having to deliver and what the cost is to retest code if a change is made to “working code”. If there’s time it’s probably worth creating a branch with the changes and a proof that it is faster (if nothing else).</p> <h2 id="measuring-performance-with-elixir">Measuring Performance with Elixir</h2> <p>If you’re trying to make performance improvements you need to measure. It’s odd to say that because it seems self-evident. However, I’ve worked places where folks would say “I made that code 3x faster” without actually having hard data to back it up. This is concerning not because it might be inaccurate but because it also may indicate that no testing was done on the improved code.</p> <p>In any case, for whatever language you are using you need to know how to measure the passage of time. Since this blog is focused around Elixir I’ll examine a couple of ways of measuring performance in Elixir.</p> <h3 id="timertc">timer.tc</h3> <p>Elixir has access to the Erlang stdlib functions. There an available module (tc) that has a function (tc/1) that times a function. You pass a function into the <code class="language-plaintext highlighter-rouge">:timer</code> tc function and it returns a tuple where the first element is the total time in microseconds it took to run the function. You can take that value and divide by a million to get milliseconds for display.</p> <p>Here’s an example of timing an Elixir function using <code class="language-plaintext highlighter-rouge">:timer.tc/1</code>:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>iex&gt; func = fn -&gt; 1..10_000 |&gt; Enum.each(fn v -&gt; v / 2 == 0  end) end
#Function&lt;43.81571850/0 in :erl_eval.expr/6&gt;
iex&gt; func |&gt; :timer.tc() |&gt; elem(0) |&gt; then(&amp; &amp;1/ 1_000_000)
0.0019
</code></pre></div></div> <p>The timer tc function gives us milliseconds. The division shows the result as fractions of a second.</p> <h3 id="systemmonotonic_time">system.monotonic_time</h3> <p>If we needed measurements in nanoseconds then we can use <code class="language-plaintext highlighter-rouge">:erlang.monotonic_time()</code>. This is what is used by the telemetry library used in Elixir to generate or process events. Here’s an example of using <code class="language-plaintext highlighter-rouge">:erlang.monotonic_time()</code> using a timing module.</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>defmodule MonoTimer do
  def time(function) do
    start = :erlang.monotonic_time()
    result = function.()
    finish = :erlang.monotonic_time()

    duration_nano_seconds = :erlang.convert_time_unit(finish - start, :native, :nanosecond)

    {duration_nano_seconds, result}
  end
end

iex&gt; func = fn -&gt; 1..10_000 |&gt; Enum.each(fn v -&gt; v / 2 == 0  end) end
#Function&lt;43.81571850/0 in :erl_eval.expr/6&gt;
iex&gt; MonoTimer.time(func)
{6433137, []}
</code></pre></div></div> <p>Notice that in this case the function is returning both the time in nanoseconds it took to run the function and the result of the function run.</p> <p>Both <code class="language-plaintext highlighter-rouge">:timer.tc/1</code> and <code class="language-plaintext highlighter-rouge">:erlang.monotonic_time/1</code> are functions that you’ll probably use periodically to quickly measure a function’s speed.</p> <h2 id="use-a-library">Use a library</h2> <p>For production software you most likely need something more robust. For example, you may want to compare use of memory between two functions or you may have a function that really needs a bit of warmup before it is run to allow it’s performance to come closer to what the real life usage is like. You might want to measure performance when the function is run within multiple processes simultaneously. For situations like this its best to use a library that has already been developed to meet these needs. The one that I use most often is benchee. It has almost 580,000 downloads reported in hex.pm as of October 4th, 2025.</p> <h2 id="using-benchee">Using Benchee</h2> <p>In the blog post on <a href="https://fmcgeough.github.io/blog/2025/self-describing-numbers/">self describing numbers</a> I had an Elixir algorithm that can determine whether a number is self-describing. It’s slower than it could be. I’ll use it to show a simple example of using benchee to improve Elixir performance.</p> <p>The general algorithm used to identify a self descriptive number has two phases:</p> <ul> <li>First, extract the digits from the integer value into a list</li> <li>Second, build a map of the frequency of the occurrence of each number in the original integer where the key is the position in the list starting at 0 and the value is how many times that digit occurs, and then for each digit 0..n in the list look up the location in the frequencies built and check that the value returned matches the digit for that location</li> </ul> <p>These two general steps seem required. We need to break out all the digits and then we need to do some form of analysis on the resulting list to see if it matches the criteria for a self-describing number. However, maybe one or both of these could be faster.</p> <p>A first step is to create a new project <code class="language-plaintext highlighter-rouge">mix new self_describe</code>, add <code class="language-plaintext highlighter-rouge">benchee</code> as a dependency. I add the benchee library as <code class="language-plaintext highlighter-rouge">:dev</code> only so its only included on dev builds.</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{:benchee, "~&gt; 1.4", only: :dev}
</code></pre></div></div> <p>Next I’ll get the original algorithm into a module. Since we “know” that we might want to test alternatives to both extracting digits from an integer and performing the algorithm I’ll modify the code from previous blog post to make that easier.</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>defmodule IntegerAnalyzer do
  @moduledoc """
  Provide analysis of integer(s)
  """

  @max_allowed_integer 9_999_999_999

  @doc """
  Determine if the integer provided as argument is self-descriptive?

  A self-describing number is an integer in a given base where each digit's position indicates the quantity of that digit within the number.
  """
  @spec self_descriptive?(integer) :: boolean
  def self_descriptive?(n) when is_integer(n) and n &lt;= @max_allowed_integer and n &gt; 0 do
    n |&gt; digits_from_integer() |&gt; self_descriptive_algorithm()
  end

  @doc """
  Convert the input integer into a list of its integer digits
  """
  @spec digits_from_integer(integer) :: [integer]
  def digits_from_integer(n) do
    n |&gt; Integer.to_charlist() |&gt; Enum.map(fn x -&gt; x - 48 end)
  end

  defp self_descriptive_algorithm(val) do
    self_descriptive_check(Enum.with_index(val), Enum.frequencies(val))
  end

  defp self_descriptive_check([{occurrences, pos} | t], freq) do
    if Map.get(freq, pos, 0) == occurrences do
      self_descriptive_check(t, freq)
    else
      false
    end
  end
end
</code></pre></div></div> <p>To use benchee we’ll want a module that runs our test. In the test function we’ll run 500,000 integers through the algorithm.</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>defmodule IntegerAnalyzerTester do
  @test_data 1_000_000_000..1_000_500_000

  def run_self_descriptive do
    Enum.filter(@test_data, &amp;IntegerAnalyzer.self_descriptive?(&amp;1))
  end

  def run_digits_from_integer_test do
    Enum.each(@test_data, &amp;IntegerAnalyzer.digits_from_integer(&amp;1))
  end
end
</code></pre></div></div> <p>After starting up an iex session with <code class="language-plaintext highlighter-rouge">iex -S mix</code> we can use benchee to test the current performance. I’m going to cut out some of the benchee output to focus on the performance only.</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>iex&gt; data = %{"original" =&gt; &amp;IntegerAnalyzerTester.run_self_descriptive/0}
iex&gt; Benchee.run(data); 0
Benchmarking self_descriptive? ...
Calculating statistics...
Formatting results...

Name               ips        average  deviation         median         99th %
original          7.65      130.68 ms     ±0.71%      130.68 ms      133.01 ms
</code></pre></div></div> <p>The first argument to benchee run is a Map where the key is a user-friendly name and the value is the function to run. By default, benchee will run the function (over and over) for two seconds then it will test by running the function (over and over) for five seconds. The two seconds are a warmup for code that requires a warmup to get accurate results that reflect deployed software. Both of these durations are configurable.</p> <p>The output from benchee includes two elements of interest:</p> <ul> <li>ips - iterations per second, aka how often can the given function be executed within one second (the higher the better - good for graphing), only for run times</li> <li>average - average execution time/memory usage (the lower the better)</li> </ul> <p>We can use the first argument to pass in both the current implementation and an improved one with different user-friendly nanes. The benchee library outputs details on both individually and the difference between them.</p> <p>So what improvements can we make?</p> <h2 id="improved-integer-to-digits">Improved Integer to Digits</h2> <p>It turns out there is no need for us to convert integers to digits. There is a function in the Integer module that does this for us. Since it’s part of the core library chances are it does it faster than the original implementation. Here’s a new function for the IntegerAnalyzer.</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  @spec improved_digits_from_integer(integer) :: [integer]
  def improved_digits_from_integer(n) do
    n |&gt; Integer.digits()
  end
</code></pre></div></div> <h2 id="avoiding-work-when-its-not-needed">Avoiding Work When Its Not Needed</h2> <p>We can avoid the current algorithm if we can easily determine that a string of digits cannot possibly be self descriptive. It’s fairly easy to realize that because each digit refers to the number of occurrences of its position number in the integer that if we added all the individual digits together and it was greater than the length of the digits list then we can’t possibly have a self descriptive number. Here’s the new function for the IntegerAnalyzer.</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  # Return true if the sum of digits exceeds the length of the list because
  # this indicates the number cannot be self-descriptive
  defp sum_exceeds_len?(val) do
    Enum.sum(val) &gt; length(val)
  end
</code></pre></div></div> <h2 id="create-a-public-function-for-benchee">Create a Public Function for benchee</h2> <p>We’ll need a IntegerAnalyzer function to pass into benchee to test our (hopefully) faster code. While I’m in there I’m going to add two functions to test the original digits from integer with the improved version.</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  @spec improved_self_descriptive?(integer) :: boolean
  def improved_self_descriptive?(n) when is_integer(n) and n &lt;= @max_allowed_integer do
    val = digits_from_integer(n)
    val |&gt; sum_exceeds_len?() |&gt; case do
      true -&gt; false
      false -&gt; detailed_check(val)
    end
  end
</code></pre></div></div> <h2 id="using-benchee-to-compare">Using benchee to compare</h2> <p>The final step is to modify our IntegerAnalyzerTester:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>defmodule IntegerAnalyzerTester do
  @test_data 1_000_000..1_500_000

  def run_self_descriptive do
    Enum.filter(@test_data, &amp;IntegerAnalyzer.self_descriptive?(&amp;1))
  end

  def run_improved_self_descriptive do
    Enum.filter(@test_data, &amp;IntegerAnalyzer.improved_self_descriptive?(&amp;1))
  end

  def run_digits_from_integer do
    Enum.each(@test_data, &amp;IntegerAnalyzer.digits_from_integer(&amp;1))
  end

  def run_improved_digits_from_integer do
    Enum.each(@test_data, &amp;IntegerAnalyzer.improved_digits_from_integer(&amp;1))
  end
end
</code></pre></div></div> <h2 id="final-version-of-integeranalyzer">Final version of IntegerAnalyzer</h2> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>defmodule IntegerAnalyzer do
  @moduledoc """
  Provide analysis of integer(s)
  """

  @max_allowed_integer 9_999_999_999

  @doc """
  Determine if the integer provided as argument is self-descriptive?

  A self-describing number is an integer in a given base where each digit's position indicates the quantity of that digit within the number.
  """
  @spec self_descriptive?(integer) :: boolean
  def self_descriptive?(n) when is_integer(n) and n &lt;= @max_allowed_integer and n &gt; 0 do
    n |&gt; digits_from_integer() |&gt; self_descriptive_algorithm()
  end

  @spec improved_self_descriptive?(integer) :: boolean
  def improved_self_descriptive?(n) when is_integer(n) and n &lt;= @max_allowed_integer and n &gt; 0 do
    val = improved_digits_from_integer(n)

    val
    |&gt; sum_exceeds_len?()
    |&gt; case do
      true -&gt; false
      false -&gt; self_descriptive_algorithm(val)
    end
  end

  @doc """
  Convert the input integer into a list of its integer digits
  """
  @spec digits_from_integer(integer) :: [integer]
  def digits_from_integer(n) do
    n |&gt; Integer.to_charlist() |&gt; Enum.map(fn x -&gt; x - 48 end)
  end

  def improved_digits_from_integer(n) do
    n |&gt; Integer.digits()
  end

  @doc """
  Return true if the sum of digits exceeds the length of the list because
  this indicates the number cannot be self-descriptive
  """
  @spec sum_exceeds_len?([integer]) :: boolean()
  def sum_exceeds_len?(val) do
    Enum.sum(val) &gt; length(val)
  end

  defp self_descriptive_algorithm(val) do
    self_descriptive_check(Enum.with_index(val), Enum.frequencies(val))
  end

  defp self_descriptive_check([{occurrences, pos} | t], freq) do
    if Map.get(freq, pos, 0) == occurrences do
      self_descriptive_check(t, freq)
    else
      false
    end
  end
end
</code></pre></div></div> <h2 id="retest-to-compare-improved-to-original">Retest to compare improved to original</h2> <p>With all that in place we can run the test:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ iex -S mix
iex&gt; Benchee.run(
    %{
      "original" =&gt; &amp;IntegerAnalyzerTester.run_self_descriptive/0,
      "new" =&gt; &amp;IntegerAnalyzerTester.run_improved_self_descriptive/0}
    )

Name               ips        average  deviation         median         99th %
new              38.88       25.72 ms     ±3.34%       25.90 ms       27.18 ms
original          7.99      125.08 ms     ±0.65%      125.11 ms      127.08 ms

Comparison:
new              38.88
original          7.99 - 4.86x slower +99.36 ms
</code></pre></div></div> <p>It’s easy to see the new approach gets much better performance. Close to 5x.</p> <h2 id="now-what">Now what?</h2> <p>Well everything seems good. The improved code allows the function to run in 25 milliseconds vs 125 milliseconds in the original.</p> <p>One useful thing to do when you see an improvement (especially a big one) is to work out why it’s so much faster. In this case it’d be interesting to determine how many numbers we’re actually rejected by the <code class="language-plaintext highlighter-rouge">sum_exceeds_len?/1</code> change. It’s not too difficult to do with the reworked code.</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>iex&gt; 1_000_000_000..1_000_500_000 |&gt;
  Enum.map(&amp;IntegerAnalyzer.improved_digits_from_integer/1) |&gt;
  Enum.map(&amp;IntegerAnalyzer.sum_exceeds_len?/1) |&gt;
  Enum.filter(&amp;(&amp;1 == true)) |&gt; Enum.count()
495205
</code></pre></div></div> <p>So, nearly half the numbers submitted were rejected.</p> <p>The performance improvement looks okay. It’s improved because its doing much less work.</p> <h2 id="what-about-digits-from-integer">What about digits from integer?</h2> <p>How much speed improvement (or slowdown!) did we get by using the system solution <code class="language-plaintext highlighter-rouge">Integer.digits/1</code>?</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Name               ips        average  deviation         median         99th %
new              87.89       11.38 ms     ±4.25%       11.25 ms       12.55 ms
original         53.81       18.58 ms     ±0.80%       18.58 ms       19.15 ms

Comparison:
new              87.89
original         53.81 - 1.63x slower +7.21 ms
</code></pre></div></div> <p>Yep. It’s faster. Not as dramatic as avoiding a bunch of unnecessary work but its faster and it’s also built in to the Integer module. This means we’re not maintaining code unnecessarily.</p> <h2 id="wrap-up">Wrap up</h2> <p>This is a somewhat contrived example to demonstrate the basics of using benchee. There are additional related libraries that you can add that do things like format results as HTML and graph the results.</p>]]></content><author><name></name></author><category term="elixir"/><summary type="html"><![CDATA[Improving speed of self describing numbers]]></summary></entry><entry><title type="html">Self Describing Numbers</title><link href="https://fmcgeough.github.io/blog/2025/self-describing-numbers/" rel="alternate" type="text/html" title="Self Describing Numbers"/><published>2025-10-01T00:00:00+00:00</published><updated>2025-10-01T00:00:00+00:00</updated><id>https://fmcgeough.github.io/blog/2025/self-describing-numbers</id><content type="html" xml:base="https://fmcgeough.github.io/blog/2025/self-describing-numbers/"><![CDATA[<p>I like the Elixir language. One challenging aspect of liking a programming language that is not used to the extent of Javascript, Java, or Go is that it may be a bit tougher to find examples. So I figured I’d periodically post some Elixir implementations of algorithms. Sites like exercism.io are also wonderful sources to explore using Elixir for simple algorithm based tasks.</p> <p>This post is on self describing numbers. From Wikipedia: A self-describing number is an integer in a given base where each digit’s position indicates the quantity of that digit within the number. For example, in base 10, the number 2020 is a self-describing number because its first digit (2) indicates the two zeros in the number, the second digit (0) indicates no ones, the third digit (2) indicates two twos, and the fourth digit (0) indicates no threes.</p> <p>For example, in base 10, the number 6210001000 is self-descriptive for the following reasons:</p> <p>In base 10, the number has 10 digits, indicating its base;</p> <ul> <li>It contains 6 at position 0, indicating that there are six 0s in 6210001000</li> <li>It contains 2 at position 1, indicating that there are two 1s in 6210001000</li> <li>It contains 1 at position 2, indicating that there is one 2 in 6210001000</li> <li>It contains 0 at position 3, indicating that there is no 3 in 6210001000</li> <li>It contains 0 at position 4, indicating that there is no 4 in 6210001000</li> <li>It contains 0 at position 5, indicating that there is no 5 in 6210001000</li> <li>It contains 1 at position 6, indicating that there is one 6 in 6210001000</li> <li>It contains 0 at position 7, indicating that there is no 7 in 6210001000</li> <li>It contains 0 at position 8, indicating that there is no 8 in 6210001000</li> <li>It contains 0 at position 9, indicating that there is no 9 in 6210001000</li> </ul> <p>Elixir algorithm for determining whether an integer is self descriptive for base 10.</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>defmodule IntegerAnalyzer do
    def self_descriptive?(n) when is_integer(n) and n &gt;= 0 do
        {val_with_index, freq} = analyze(n)
        self_descriptive_check(val_with_index, freq)
    end

    defp analyze(n) do
        val = n |&gt; Integer.to_charlist() |&gt; Enum.map(fn x -&gt; x - 48 end)
        {Enum.with_index(val), Enum.frequencies(val)}
    end

    defp self_descriptive_check([], _freq), do: true
    defp self_descriptive_check([{occurrences, pos}|t], freq) do
        if Map.get(freq, pos, 0) == occurrences do
            self_descriptive_check(t, freq)
        else
            false
        end
    end
end
</code></pre></div></div> <p>This is not particularly fast but for a few million values it’s okay. On my Macbook Pro it takes about a second and a half.</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>iex&gt; 1..10_000_000 |&gt; Enum.filter(&amp;IntegerAnalyzer.self_descriptive?(&amp;1))
[1210, 2020, 21200, 3211000]
</code></pre></div></div> <p>The self_descriptive? function takes the integer and builds a charlist. It then maps that list to values by subtracting the ASCII value for zero (48). The next line builds a tuple consisting of the list with the number of occurrences and the value along with the frequencies for the charlist. The frequencies shows how many times an element occurs in a list. Here’s a short demonstration of what the code does:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&gt; val = 24234900 |&gt; Integer.to_charlist() |&gt; Enum.map(fn x -&gt; x - 48 end)
[2, 4, 2, 3, 4, 9, 0, 0]
&gt; Enum.with_index(val)
[{2, 0}, {4, 1}, {2, 2}, {3, 3}, {4, 4}, {9, 5}, {0, 6}, {0, 7}]
&gt; Enum.frequencies(val)
%{0 =&gt; 2, 2 =&gt; 2, 3 =&gt; 1, 4 =&gt; 2, 9 =&gt; 1}
</code></pre></div></div> <p>The self_descriptive_check is a recursive function that returns true if it gets to the end of the list without a problem and false if it ever finds that the number of occurrences in the frequency for a position doesn’t match the value built with the Enum.with_index.</p>]]></content><author><name></name></author><category term="elixir"/><summary type="html"><![CDATA[Using Elixir to find self describing numbers]]></summary></entry><entry><title type="html">John Hammond and Wicked Grin</title><link href="https://fmcgeough.github.io/blog/2025/tom-waits-2-19/" rel="alternate" type="text/html" title="John Hammond and Wicked Grin"/><published>2025-08-12T11:57:00+00:00</published><updated>2025-08-12T11:57:00+00:00</updated><id>https://fmcgeough.github.io/blog/2025/tom-waits-2-19</id><content type="html" xml:base="https://fmcgeough.github.io/blog/2025/tom-waits-2-19/"><![CDATA[<p>Wicked Grin is the twenty-eighth studio album from blues singer John P. Hammond. The album is a collection of songs written by Hammond’s friend Tom Waits, who produced the project. It was released in March 2001. It’s a wonderful album. Here’s the track listing.</p> <div class="language-markdown highlighter-rouge"><div class="highlight"><pre class="highlight"><code>| Title                               |                   Writer(s)                   |
| :---------------------------------- | :-------------------------------------------: |
| "2:19"                              |          Kathleen Brennan, Tom Waits          |
| "Heartattack and Vine"              |                   Tom Waits                   |
| "Clap Hands"                        |                   Tom Waits                   |
| "'Til the Money Runs Out"           |                   Tom Waits                   |
| "16 Shells From a Thirty-Ought Six" |                   Tom Waits                   |
| "Buzz Fledderjohn"                  |                   Tom Waits                   |
| "Get Behind the Mule"               |          Kathleen Brennan, Tom Waits          |
| "Shore Leave"                       |                   Tom Waits                   |
| "Fannin Street"                     | Kathleen Brennan, Tom Waits, Huddie Ledbetter |
| "Jockey Full of Bourbon"            |                   Tom Waits                   |
| "Big Black Mariah"                  |                   Tom Waits                   |
| "Murder in the Red Barn"            |          Kathleen Brennan, Tom Waits          |
| "I Know I've Been Changed"          |                  Traditional                  |
</code></pre></div></div> <blockquote> <p>There are a couple of people listed as writers on the tracks above.</p> </blockquote> <blockquote> <p>Kathleen Brennan is an Irish-American musician, songwriter, record producer, &gt; and artist. She is known for her work as a co-writer, producer, and influence &gt; on the work of her husband Tom Waits.</p> </blockquote> <blockquote> <p>Huddie William Ledbetter is better known by the stage name Lead Belly.</p> </blockquote> <p>The first song on the album is “2:19”. It’s a droning song in A minor and I thought it’d be great for slide guitar practice on my Mule Mavis resonator. Below is a portion of a practice session.</p> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <audio src="https://github.com/fmcgeough/blog_posts/blob/main/audio/2025-08-12-2-19.mp3?raw=true" controls=""/> </figure> </div> </div> <div class="caption"> Mule Mavis and 2:19 </div> <p>The phrase “wicked grin” appears in the lyrics of “2:19”.</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Now I've always been puzzled by the yin and the yang
Come out in the wash, but it always leaves a stain
Sturm and Drang, the luster and the sheen
My baby's leaving on the 2:19
Toss the baby with the water, and the preacher stole the bride
Sent her out for a bottle, but when she came back inside
Didn't have my whiskey, she didn't have my gin
But a hat full of feathers and a wicked grin
Hey, hey, I don't know what to do
Hey, hey, I will remember you
Hey, hey, I don't know what to do
My baby's leaving on the 2:19
</code></pre></div></div> <p>“Sturm und Drang” comes from German, where it literally means “storm and stress.” Although it’s now a generic synonym of “turmoil,” the term was originally used in English to identify a late 18th-century German literary movement whose works were filled with rousing action and high emotionalism.</p> <p>For the audio sample I used the Mule Mavis single cone resonator, a ceramic Rock Slide and a Wooly Coats amp and recorded it with my iPhone.</p>]]></content><author><name></name></author><category term="guitar"/><category term="recording"/><summary type="html"><![CDATA[John Hammond's versions of Tom Wait's songs]]></summary></entry><entry><title type="html">Yamaha THR30 II Wireless Amp</title><link href="https://fmcgeough.github.io/blog/2025/yamaha-thrii-amp/" rel="alternate" type="text/html" title="Yamaha THR30 II Wireless Amp"/><published>2025-07-25T12:45:00+00:00</published><updated>2025-07-25T12:45:00+00:00</updated><id>https://fmcgeough.github.io/blog/2025/yamaha-thrii-amp</id><content type="html" xml:base="https://fmcgeough.github.io/blog/2025/yamaha-thrii-amp/"><![CDATA[<p>I recently sold a boutique amp. It was the Carr Super Bee 1x12. It was an awesome amp and sounded great. I bought it when it first came out and used it quite a bit. But I had stopped using it as much and I wanted to sell it to someone who could use it more. Since I then had a bit of cash I decided to buy a Yamaha THR30 II Wireless Amp, along with the Line 6 Relay G10T.</p> <p>Yamaha was one of the first companies to introduce a desktop amp. It’s meant to be an at home tool. This one is the second generation.</p> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <img src="https://github.com/fmcgeough/blog_posts/blob/main/img/2025-07-25-yamaha_thr30.png?raw=true" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </div> </div> <div class="caption"> Yamaha THR30 II Wireless Amp </div> <p>I bought a white one. They also come in black and cream color. I purchased it through Sweetwater (the magical Indiana music store). Details on the amp:</p> <ul> <li>30-watt, 1-channel 2 x 3.5-inch</li> <li>Internal rechargeable battery or AC power</li> <li>iOS and Android apps, Windows/OS X apps</li> <li>USB 2 connection that allows 2 channels of recording and 2 channels of playback from computer</li> <li>Headphone output</li> <li>Built in effects (reverb, chorus, flanger, phaser, tremolo, echo, compressor)</li> <li>Selection of amp sounds and mic choices (dynamic, tube, and condenser)</li> <li>Built in tuner</li> <li>Built in Line 6 receiver that works with Line 6 Relay G10T</li> <li>Input jack for guitar cable and also to recharge the Line 6 Relay G10T</li> </ul> <p>The amp works fine with an acoustic. Yamaha also sells a desktop amp that is meant for acoustic-electric - THR30IIA.</p> <p>The effects can be setup and saved from controls on the unit itself or via the app THR Remote. The app connects to the amp via bluetooth. There is a Bluetooth button on the unit. You press it down for 3 seconds to enable pairing. I had no issues with this. The app has a quirky user experience but I didn’t find it that hard to figure out.</p> <p>I plugged the amp into AC power and plugged the Line 6 Relay G10T into the input port and left it alone for a couple hours. This ensures that both amp and wireless transmitter are charged. The transmitter will blink red when it’s not charged nearly enough, then green blinking when its charged enough and solid green when its fully charged.</p> <p>Once everything is charged you’ll need to update software for both the amp and the Line 6 Relay G10T. To do this you’ll need to hook up your computer via USB. The port on the Yamaha will need a USB-B male connector. You’ll need to install the <a href="https://usa.yamaha.com/support/updates/thr_remote_mac.html">THR Remote App</a> from the Yamaha website. You’ll probably also want to install the <a href="https://o.steinberg.net/en/support/downloads_hardware/yamaha_steinberg_usb_driver.html">Yamaha Steinberg USB Driver</a>. The Yamaha doc indicates that they want the USB cable to be 3 feet or less. I was able to use a 6 Feet USB 2.0 Type-A Male to Type-B Male Connection Cable from PWR+. It’s compatibility list did not mention the THR30II amp. It had “Yamaha Digital Piano, Roland Music Workstation, Donner DEP 10 20 45 DDP-80 88 Key Digital Pianos, Alesis, Korg, Casio Keyboard, AKAI Professional, Arturia KeyLab MiniLab, Midiplus, Nektar Impact, Novation, M-Audio MIDI Controller, Native Drum Controller, Pioneer, Hercules DJControl Inpulse, Numark DJ Mixer, Behringer U-Phoria, PreSonus AudioBox Audio Interface, Microphone, Studio Equipment to a Laptop, Computer (Mac PC) and other devices with a USB-B port”. With this big of a list I figured it probably would work and it did. I plugged it into a Anker dongle to convert from USB 2.0 Type-A to USB-C for my MacBook Pro.</p> <p>Here’s the process I followed to install the Steinberg USB driver.</p> <ol> <li>Turn computer off - shutdown.</li> <li>Press and hold power button until computer boots in safe mode.</li> <li>Press on “Options”</li> <li>Select your user profile (enter password)</li> <li>Go to Utilities menu and select “Startup Security Utility” and select your Disc. It will ask for your password again.</li> <li>Select “Security Policy”. This will most likely be set to “Full Security” if you’ve never messed with this before. Change to “Reduced Security” radio button and check the checkbox identified as “Allow user management of kernel extensions from identified developers”.</li> <li>Click OK and you’ll have to enter your password again.</li> <li>Restart (from menu)</li> <li>Start Steinberg driver install. At the end of the install a dialog will appear “System Extension Updated”. You’ll need to go to “Privacy &amp; Security System Settings” to indicate that the Yamaha driver can be used.</li> </ol> <p>After this I installed the THR Remote app. There were no special steps needed for this.</p> <p>To hook up the USB cable</p> <ol> <li>Remove the transmitter from the input port on the amp</li> <li>Power on the THR30II amp. Make sure you are plugged into AC power. You don’t want it powering down half-way through the upgrade.</li> <li>Plug in the USB cable to amp</li> <li>Plug in USB cable to computer</li> <li>Start THR Remote app</li> </ol> <p>The software should identify the amp and indicate that it must be upgraded. It gives you instructions. It takes a few minutes.</p> <p>Once the amp is updated it’s time to upgrade the transmitter.</p> <ol> <li>Stop the THR Remote app on computer</li> <li>Unplug the USB cable from computer</li> <li>Plug in the transmitter to the amp input port</li> <li>Plug in USB cable to computer</li> <li>Start THR Remote app</li> </ol> <p>The software should identify the Line 6 transmitter and indicate that it must be upgraded. It gives you instructions. It takes a few minutes.</p> <p>Note: if you don’t need an upgrade then the THR Remote app will just announce that it can see the amp.</p> <p>Once that was all done I powered on the amp and set it to Acoustic and plugged in the Line 6 Relay G10T to my old acoustic that has a pickup in it. Messed about with the knobs to allow me to hear the guitar and recorded a brief snippet on my phone to ensure it worked.</p> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <audio src="https://github.com/fmcgeough/blog_posts/blob/main/audio/2025-07-25-yamaha-thr30-acoustic.mp3?raw=true" controls=""/> </figure> </div> </div> <div class="caption"> iPhone Recorded Sample of Acoustic with Yamaha THR30II Wireless Amp </div> <p>I fiddled around with the effects for a while to ensure that they all seemed to work. I’ll work with recording to Mac later and post about my experience with that.</p> <p>All in all it’s a nice tool. It’s got a good sound and the effects are fine. The 4 to 5 hour battery life when unplugged is convenient. You can bring it to a friend’s house and not worry about power cables. The Line 6 transmitter, sold separately, is essential I think. It gets rid of the need for a guitar cable and increases the odds that you’ll use the amp more often.</p> <p>The amp is good looking and small enough to leave out in your living room. It has a nice orange tube-like glow when turned on.</p> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <img src="https://github.com/fmcgeough/blog_posts/blob/main/img/2025-07-25-yamaha-thr30-in-living-room.jpg?raw=true" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </div> </div> <div class="caption"> Yamaha THR30 II In Living Room </div>]]></content><author><name></name></author><category term="guitar"/><summary type="html"><![CDATA[Details on Yamaha THR30 desktop amplifier]]></summary></entry><entry><title type="html">Authorization</title><link href="https://fmcgeough.github.io/blog/2025/permission-checking/" rel="alternate" type="text/html" title="Authorization"/><published>2025-07-01T00:00:00+00:00</published><updated>2025-07-01T00:00:00+00:00</updated><id>https://fmcgeough.github.io/blog/2025/permission-checking</id><content type="html" xml:base="https://fmcgeough.github.io/blog/2025/permission-checking/"><![CDATA[<p>I have had various people ask me about authorization. I figured I’d write a blog post to explain the three main types that you are likely to run into and include examples of how they work. I also wanted to mention some of the areas where authorization can be the most painful.</p> <h2 id="basics">Basics</h2> <ul> <li>Authorization is not authentication. They are related but should not be considered to be one and the same thing. Authentication is verifying that a subject is who they are purporting to be. That has to happen before making authorization decisions. Discussions of authorization can get confusing because you can hear Auth and think that the discussion is on authorization but it’s instead on authentication. A good way of differentiating these activities is to use AuthN for authentication and AuthZ for authorization.</li> <li>Authorization is deciding whether or not a subject (user / program as identified by authentication) can perform an action on an object (resource / user)</li> </ul> <h2 id="common-types-of-authorization">Common Types of Authorization</h2> <p>The most common approaches to authorization:</p> <ul> <li>Role Based Access Control (RBAC). A set of roles are associated with permissions to perform some action on some resource. Users (an actual user or a program) are associated with these roles. This is a popular way of managing authorizations. It’s advantages are that it is not too hard to understand and is fairly easy to administer.</li> <li>Attribute Based Control (ABAC). Organizations can find that RBAC is too limiting for complex data models. In ABAC you consider one or more security attributes to decide on authorization. There are four main categories of attributes: <ul> <li>subject (user) attributes. For example, username, age, id, job title, organization, job role</li> <li>resource (object) attributes. Indicate what would be acted upon.</li> <li>action. Indicates what action the subject wishes to take (view, modify, delete)</li> <li>environmental. This is a common consideration in ABAC systems that you do not see in RBAC systems. Time, device, location are all environmental attributes.</li> </ul> </li> <li>Relationship-based Access Control (ReBac). The concept behind ReBAC authorization systems is that by following a chain of relationships one can determine access. Both Facebook and Google are using a form of ReBac. Google’s ReBAC system is implemented in a tool called Zanzibar. Zanzibar implements not just a ReBAC system but it covers infrastructure that is particular to Google and utilizes “in house” tools. Google published a paper describing the system and a number of companies have built implementations of the system described in the paper using tools like Cockroach DB.</li> <li>Policy Based Control (PBAC). In a policy based authorization system there are generally two components: 1) a policy engine that contains policy rules and data; 2) a policy language that allows defining how authorization is decided. The most common PBAC system is Open Policy Agent (OPA). It’s policy language is called Rego.</li> </ul> <h2 id="example-of-role-based-rbac-authorization">Example of Role Based (RBAC) Authorization</h2> <p>Here’s an example of a multi-account RBAC authorization system. In this system an account (business) is a high-level entity containing users (either actual people or computer programs) that interact with the account. Each user within an account has one role. Users are assigned to one of the following roles on creation:</p> <ul> <li>owner - has the ability to do anything within the account they are assigned. They can create, update, delete users as well as any other objects in the account. They can interact with the payment system and authorize additions or removals of features that change the billing for an account.</li> <li>admin - slightly less capabilities than an “owner” role. For example, a user with an admin role can view billing info but is not allowed to modify it.</li> <li>user - a role that allows the user to interact with objects in an account. There may be limits on what the user is allowed to create, update or delete.</li> <li>spectator - a role that only allows a user to view information in an account.</li> </ul> <p>A set of roles of this nature is fairly typical of role based system. All decision making is based on the user’s role. There is no other information used to make a decision on whether a user is allowed to perform an action or not.</p> <h2 id="example-of-attribute-based-abac-authorization">Example of Attribute based (ABAC) Authorization</h2> <p>An ABAC system might be an extension to a RBAC system. That is, a user is still assigned a role, however, there are other attributes besides the role that are used to determine whether a user is allowed to perform an action.</p> <p>For example, there could be a system where the location of a user is important to consider. Imagine that we allow the “user” role to do all the same things that they do in the RBAC system described above. However, the “user” is only authorized to do those actions if they are in the “office” or from recognized secure devices. That is, they cannot access data remotely.</p> <p>One of the reasons to use an ABAC system instead of RBAC is because in an RBAC system you can end up with “role explosion”. That is, the business needs more granularity for particular situations. A new role is created whenever this need arises and instead of an easy to understand set of 5-8 roles you end up with many more. This ends up making it almost impossible for either customers or internal developers to understand how authorization decision making is done.</p> <h2 id="example-of-a-relationship-based-rebac-authorization">Example of a Relationship based (ReBac) Authorization</h2> <p>In a ReBac system everything is a graph. In practice, most authorization systems done with RBAC or ABAC can fit into a graph model.</p> <p>For example, consider an organization made up of various groups. Each group may have sub-groups. Each group (or sub-group) creates folders and documents within those folders. A user can be a member of more than one group (or sub-group). Access is granted to a group, a sub-group or a user for folders and documents.</p> <p>You can see that this problem is a graph by its nature. A user has a relationship to a group. A group has a relationship with sub-groups. A sub-group has a relationship to folders. And folders contain documents. To determine authorization you need to navigate the graph. This graph is the schema for the authorization decision.</p> <p>AuthZed is a company that sells a ReBac solution. They have an <a href="https://play.authzed.com/">online playground</a> that you can use to examine several examples of instances of how ReBac is used.</p> <h2 id="policy-based-pbac-authorization">Policy Based (PBAC) Authorization</h2> <p>PBAC (and OPA in particular) are wonderful tools when the amount of data needed to make decisions is fairly small. OPA uses an in-memory database. If the problem you are trying to solve involves hundreds (or even tens) of megabytes then its unlikely that PBAC will work well for you. The OPA project has an <a href="https://play.openpolicyagent.org/">OPA Playground</a> to allow investigating how OPA performs authorizations. There is also <a href="https://www.openpolicyagent.org/docs">excellent documentation</a>.</p> <h2 id="common-authorization-acronyms">Common authorization acronyms</h2> <p>Like any technical area authorization has it’s own set of acronyms.</p> <ul> <li>AuthN - authentication</li> <li>AuthZ - authorization</li> <li>CIAM - Customer Identity and Access Management. This is used to describe the combination of AuthN and AuthZ.</li> <li>Discretionary Access Control (DAC) - files and directories had read, write and execute permissions. This was the development of the earliest Unix system. The core concept of permissions involves three categories: owner, group, and others, each with read, write, and execute permissions. Access control lists (ACL) was used as a mechanism to hand out permissions.</li> <li>Mandatory Access Control (MAC) - Honeywell’s SCOMP and NSA’s Blacker, focused on achieving multilevel security (MLS) for military applications. This system applied security labels to subjects (users/processes) and objects (files/data). For example, labels could be “Top Secret,” “Secret,” “Confidential”. An administrator places objects into these labeled categories. It was meant to protect classified information.</li> <li>Access Control List (ACL). This is a means of controlling access to files, directories and network endpoints. The cloud service providers use ACL’s in their cloud networking. For example, in Azure there are Network Security Groups (NSG) and in AWS there are Security Groups and Network Access Control List (NACL). These are both implementations of an ACL.</li> <li>Identity and Access Management (IAM) is a security framework that manages digital identities and controls user access to resources. It ensures that the right individuals have appropriate access to the necessary resources when they need them, enhancing security and operational efficiency. IAM involves establishing user identities, authenticating them, and authorizing access to specific resources, like applications, data, and devices.</li> </ul> <h2 id="problem-areas">Problem Areas</h2> <ul> <li>Authorization ends up being using throughout a full stack application: backend services, Javascript/Typescript Web UI, smart phone applications, However, each is on it’s own release cycle and, generally, use their own tools and languages.</li> <li>Subject authorizations can change over time</li> <li>Resources can change over time</li> <li>Allowed actions on resources can change over time</li> <li>Authorization has to be speedy enough to not be noticeable</li> <li>Customers need to understand how to use what you provide in order to safeguard their system</li> <li>Developers need to know how to add new permissions as new functionality is added</li> <li>Marketing and sales need to know that the authorizations provided align with the sales goals for the company</li> </ul> <h3 id="feature-flags-and-authorization">Feature Flags and Authorization</h3> <p>Feature flags are not authorization. But the topics are related. Feature flags are (traditionally) used to hide a new feature from the majority of users in a system. A few users are allowed access to the new feature to ensure that it works as expected. A rollout of some kind occurs to provide the feature to a larger and larger percentage of users. Ultimately, the new feature is completely released and the feature flag goes away.</p> <p>That’s one of the key differences between feature flags and authorization. A created feature flag will ultimately not exist once it’s served its purpose. Authorization, on the other hand, is fundamental to business processes. It’s not a short-lived thing.</p> <p>Generally, in a code path, a feature flag is checked before an authorization check occurs. This is not required but is the general practice since it provides an optimization. There’s no sense checking authorization if a user should not access a code path.</p> <p>It’s important to review feature flags to ensure that they are not used as a replacement for authorizations. A feature flag that exists for an extended period of time is a sign that your authorization system is potentially subverted.</p> <h3 id="scrolling">Scrolling</h3> <p>If an end user is looking at a large set of data does the code have to authorize each and every item that they are examining. If this is the case it presents scaling problems that make it impossible to present an efficient system.</p> <p>For example, if an end user is examining a spreadsheet with hundreds of thousands of cells a system would be unusable if a view authorization was needed for every single cell in the spreadsheet. Authorization systems must be configured to authorize at a higher level. If your system must authorize at an extreme level of granularity then it most likely will fail in various ways.</p> <h3 id="authorization-and-customer-charges">Authorization and Customer Charges</h3> <p>If your system is sold to customers and charges are based on “level of access” then you must continuously be aware of authorization overlap. That is, you may have an RBAC system that authorizes a “user” to perform certain actions and a “manager” to perform more actions on resources. However, as new resources and actions are introduced in the system or a monolith is split into microservices the original intent can easily be lost. A “user” may be able to do as much (if not more) than a “manager”. Customers can discover this and “game the system” so that they are charged less than what was planned when the system was first designed.</p> <p>It’s important to review authorizations as new resources or actions are added to an existing system to ensure that authorizations align with a billing model.</p> <h3 id="authorizations-and-microservices">Authorizations and Microservices</h3> <p>Microservices provide additional authorization challenges. An end user wants to perform an action on some resource. Is this allowed? The problem is that the original receiver of the request may turn around and make calls to one or more microservices in order to accomplish the request. Do each of these microservices perform authorization checks? Are there conflicts that can arise where an operation is “half done” because one microservice authorizes but another does not? Are each of the microservices “in sync” on what is authorized and what is not?</p> <p>It’s important to look at the resources and actions on those resources and determine exactly what occurs to accomplish the action. You need to determine whether you have any instances in your system where an action can be “half done”. These scenarios must be removed from your system.</p> <h2 id="references">References</h2> <ul> <li><a href="https://tsapps.nist.gov/publication/get_pdf.cfm?pub_id=916402">NIST Model for Role Based Access Control (RBAC)</a></li> <li><a href="https://nvlpubs.nist.gov/nistpubs/specialpublications/nist.sp.800-162.pdf">Guide to Attribute Based Access Control (ABAC) Definition and Consideration</a></li> <li><a href="https://zanzibar.tech/">AuthZed Annotated Google Zanzibar Paper (ReBAC)</a></li> <li><a href="https://www.researchgate.net/profile/Carrie-Gates-2/publication/240787391_Access_Control_Requirements_for_Web_20_Security_and_Privacy/links/540e6f670cf2d8daaacd4adf/Access-Control-Requirements-for-Web-20-Security-and-Privacy.pdf">Access Control Requirements for Web 2.0 Security and Privacy (ReBAC)</a></li> <li><a href="https://www.openpolicyagent.org">Open Policy Agent</a></li> <li><a href="https://authzed.com/">AuthZed</a></li> </ul>]]></content><author><name></name></author><category term="elixir"/><summary type="html"><![CDATA[Types of Authorization]]></summary></entry><entry><title type="html">Continuing to Improve on Slide</title><link href="https://fmcgeough.github.io/blog/2025/continued-slide/" rel="alternate" type="text/html" title="Continuing to Improve on Slide"/><published>2025-06-20T10:25:00+00:00</published><updated>2025-06-20T10:25:00+00:00</updated><id>https://fmcgeough.github.io/blog/2025/continued-slide</id><content type="html" xml:base="https://fmcgeough.github.io/blog/2025/continued-slide/"><![CDATA[<p>I keep working at slide guitar. A typical session with the slide is a few minutes of warming up. Just get my fingers working again until the slide feels right. I’ll then work on specific techniques or transitions and attempt a couple of songs.</p> <p>A lot of slide playing is as an accompanying instrument. When I get a chance I play with other people where they can carry the melody and I just get to add some accents. Playing lead with slide is challenging!</p> <p>I record the session on my phone and then break it up into snippets (if I’m feeling like doing the work). These are a couple of audio files from today’s practice.</p> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <audio src="https://github.com/fmcgeough/blog_posts/blob/main/audio/2025-06-20-exercise.mp3?raw=true" controls=""/> </figure> </div> </div> <div class="caption"> Open-D, Mule Mavis, just getting my fingers working at start of practice </div> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <audio src="https://github.com/fmcgeough/blog_posts/blob/main/audio/AngelFromMontgomery.mp3?raw=true" controls=""/> </figure> </div> </div> <div class="caption"> Open-G, Mule Mavis, Angel From Montgomery </div>]]></content><author><name></name></author><category term="guitar"/><category term="recording"/><category term="acoustic"/><summary type="html"><![CDATA[More work on slide guitar]]></summary></entry><entry><title type="html">Recent Books</title><link href="https://fmcgeough.github.io/blog/2025/reading/" rel="alternate" type="text/html" title="Recent Books"/><published>2025-06-01T00:00:00+00:00</published><updated>2025-06-01T00:00:00+00:00</updated><id>https://fmcgeough.github.io/blog/2025/reading</id><content type="html" xml:base="https://fmcgeough.github.io/blog/2025/reading/"><![CDATA[<h2 id="to-the-list">To the list</h2> <p>This is a list of books I’ve read since March 1st, 2025.</p> <ul> <li>Midnight Black (Gray Man, #14) by Mark Greaney</li> <li>Debt: The First 5,000 Years by David Graeber</li> <li>Network Effect (The Murderbot Diaries, #5) by Martha Wells</li> <li>Exit Strategy (The Murderbot Diaries, #4) by Martha Wells</li> <li>Rogue Protocol (The Murderbot Diaries, #3) by Martha Wells</li> <li>The Sirens’ Call: How Attention Became the World’s Most Endangered Resource by Chris Hayes</li> <li>Glory Be (Glory Broussard Mystery, #1), Edgar AwardWinner, 2024 by Danielle Arceneaux</li> <li>Lessons in Chemistry by Bonnie Garmus</li> <li>Greenteeth by Molly O’Neill</li> <li>Dead in the Frame: A Pentecost and Parker Mystery by Stephen Spotswood</li> <li>The Day of the Triffids by John Wyndham</li> <li>Prussian Blue (Bernie Gunther, #12) by Philip Kerr</li> <li>Beekeeping for Dummies by Howland Blackiston</li> <li>The Postman by David Brin</li> <li>A Quiet Flame (Bernie Gunther, #5) by Philip Kerr</li> <li>The Variable Man by Philip K Dick</li> <li>Everything Must Go: The Stories We Tell About the End of the World by Dorian Lynskey</li> <li>The Forgotten Room (Jeremy Logan, #4) by Lincoln Child</li> <li>The Strange Case of Jane O. by Karen Thompson Walker</li> <li>Terminal Freeze (Jeremy Logan #2) by Lincoln Child</li> <li>Will the Circle be Unbroken: Country Music in America by Paul Kingsbury and Alanna Nash</li> <li>I’m Starting to Worry About This Black Box of Doom by Jason Pargin</li> <li>Been Wrong So Long It Feels Like Right: A King Oliver Novel by Walter Mosley</li> <li>Swag by Elmore Leonard</li> <li>The Third Gate (Jeremy Logan, #3) by Lincoln Child</li> <li>Observer by Robert Lanza, Nancy Kress</li> <li>Chrysalis (Jeremy Logan, #6)by Lincoln Child</li> <li>The Man Who Fell to Earth by Walter Tevis</li> <li>The Dogs of Riga (Kurt Wallander, #2) by Henning Mankell</li> <li>Six Days of the Condor by James Grady</li> <li>Sentinel (Armored, #2) by Mark Greaney</li> </ul> <h2 id="currently-reading">Currently Reading</h2> <ul> <li>The Undoing Project by Michael Lewis</li> <li>The Case of the Missing Maid by Rob Osler</li> <li>A Swim in a Pond in the Rain by George Saunders</li> <li>Sidney Chambers and the Shadow of Death by James Runcie</li> </ul> <h2 id="the-wallander-novels">the Wallander novels</h2> <p>I like all the Wallander novels. They were written by Swedish novelist Henning Mankell. The books were turned into a British television series broadcast from 2008 to 2016. The series follows the general outline of the novels. Kenneth Branagh played Inspector Kurt Wallender. The series is also excellent. In addition, there is a “Young Wallender” series on Netflix. There are two seasons of that series which is not a prequel. Rather, they placed the character into modern times. Some fans of the original novels objected to this.</p> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <img src="https://github.com/fmcgeough/blog_posts/blob/main/img/TheDogsOfRiga.jpg?raw=true" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </div> </div> <div class="caption"> Swedish cover of The Dogs of Riga </div> <h2 id="best-books-this-year">Best Books This Year</h2> <p>“I’m Starting to Worry About This Black Box of Doom” is the best fiction that I’ve read this year, followed by “Greenteeth”. “The Sirens’ Call: How Attention Became the World’s Most Endangered Resource” is the best non-fiction I’ve read this year.</p> <h2 id="pbs-and-grantchester">PBS and Grantchester</h2> <p>We donated to PBS. If you donate $60+ you get PBS Passport. This gives you access to quite a bit of previously aired PBS content. We’ve been watching the “Grantchester” series and I decided to read the first novel for the series.</p> <p>I caught a few older “Austin City Limits” too.</p> <h2 id="murderbot">Murderbot</h2> <p>The Murderbot novels are great fun. It’s humorous sci-fi. The stories are written by American author Martha Wells. She’s the winner of four Hugo Awards, two Nebula Awards and three Locus Awards.</p> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <img src="https://github.com/fmcgeough/blog_posts/blob/main/img/All_Systems_Red_-_The_Murderbot_Diaries_1_(cover).jpg?raw=true" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </div> </div> <p>In the series a security robot (secbot) is the narrator. Secbots are owned by some mega-corporation. They provide security for space explorations but also spy on the explorers for the mega-corporation. A secbot has a “governor unit” that can punish the secbot if they do not obey a human’s order (“punish” can be total destruction in some cases). The narrating secbot manages to hack it’s governor unit which allows it to escape it’s protection enslavement. The secbot renames itself murderbot, although this is a private name that it rarely shares with others. Murderbot enjoys downloading and enjoying interplanetary soap operas. As it spends more time with a series of caring entities (both humans and artificial intelligences), it develops genuine friendships and emotional connections, which it finds inconvenient.</p> <p>There is a quite good Apple+ series based on the first novel available to stream. It premiered on May 16, 2025.</p> <h2 id="lessons-in-chemistry">Lessons in Chemistry</h2> <p>This is another book that has an Apple+ series. The core of the story from the novel is there but they took the story in some different directions. Both the novel and the series are good.</p> <h2 id="six-days-of-the-condor">Six Days of the Condor</h2> <p>This is what the movie “Three Days of the Condor” was based on. Its a first novel that was way more successful than the author could have imagined. The directory Sydney Pollack tightened up the story to condense events into three days because he thought that would work better for the movie. The movie is available in various places including the <a href="https://archive.org/details/turner_video_748">Internet Archive</a>.</p> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <img src="https://github.com/fmcgeough/blog_posts/blob/main/img/Six_Days_of_the_Condor.jpg?raw=true" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </div> </div> <p>The plot (of the movie and book) is that there is a small organization in the CIA that reads books looking for plots and counterplots. All this information is fed into a computer and used to analyze against actual CIA discovered events. The main character, Ronald Malcolm, stumbles upon a plot involving a secret organization within the CIA. As it turns out, this is an actual organization. When his report is sent “up the chain” the plotters send hit men to eliminate the entire reading group (it’s a small group). Ronald Malcolm escapes the assassination while everyone else in the office is murdered. He stumbles through various attempts on his life, uncovers the secret CIA sub group and ultimately publicly reveals their existence.</p> <p>The name “Condor” is Ronald Malcolm’s codename.</p> <p>One of the interesting things about this is that high ranking members of the government in the Soviet Union watched the movie. They thought it was describing a real CIA book reading group so they formed their own (much larger) group to do the tasks described in the movie.</p> <p>In the movie Ronald Malcolm is renamed to Joe Turner.</p>]]></content><author><name></name></author><category term="reading"/><summary type="html"><![CDATA[List of books I've read so far in 2025]]></summary></entry><entry><title type="html">Simple Ecto query pipelines</title><link href="https://fmcgeough.github.io/blog/2025/simple-ecto-pipelines/" rel="alternate" type="text/html" title="Simple Ecto query pipelines"/><published>2025-05-31T00:00:00+00:00</published><updated>2025-05-31T00:00:00+00:00</updated><id>https://fmcgeough.github.io/blog/2025/simple-ecto-pipelines</id><content type="html" xml:base="https://fmcgeough.github.io/blog/2025/simple-ecto-pipelines/"><![CDATA[<p>The Ecto library is the means used by Elixir developers to interact with a relational database. One of the first things you might want to do when using Ecto is to query a database. This is a simple example showing how you can use a pipeline and a list of options to provide fairly robust querying capabilities for a single table.</p> <h2 id="example-table">Example Table</h2> <p>Assume we have a “contacts” table in a Postgres database with an auto-generated id primary key.</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>   Column    |              Type
-------------+--------------------------------
 id          | bigint                         |
 first_name  | character varying(255)         |
 last_name   | character varying(255)         |
 inserted_at | timestamp(0) without time zone |
 updated_at  | timestamp(0) without time zone |
Indexes:
    "contacts_pkey" PRIMARY KEY, btree (id)
</code></pre></div></div> <h2 id="elixir-ecto-schema">Elixir Ecto Schema</h2> <p>The schema file in Elixir looks like this:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>defmodule Ectyl.Database.Contact do
  use Ecto.Schema
  import Ecto.Changeset

  schema "contacts" do
    field :first_name, :string
    field :last_name, :string

    timestamps(type: :utc_datetime)
  end

  @doc false
  def changeset(contact, attrs) do
    contact
    |&gt; cast(attrs, [:first_name, :last_name])
    |&gt; validate_required([:first_name, :last_name])
  end
end
</code></pre></div></div> <h2 id="requirements">Requirements</h2> <p>We want to write a module that lets developers:</p> <ul> <li>get all the contacts</li> <li>query on first name, last name or both to return only matching rows</li> <li>sort by first name, last name or both</li> <li>paginate</li> </ul> <h2 id="building-a-pipelined-function">Building a Pipelined Function</h2> <p>The way to do this is use a pipeline. Each step in the pipeline builds an Ecto.Query. We’ll allow the caller to pass opts in to a function but provide a default that gives no opts.</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>defmodule Ectyl.Contacts do
  @moduledoc """
  The Contacts context.
  """

  import Ecto.Query, warn: false
  alias Ectyl.Database.Repo

  alias Ectyl.Database.Contact

  @contacts_fields Contact.__schema__(:fields)
  @directions [:asc, :desc]
  @operators [:like, :in, :not_in, :begins_with, :ends_with]

  @doc """
  Returns the list of contacts.

  ## Examples

      iex&gt; Ectyl.Contacts.list_contacts()
      [%Contact{}, ...]

  ## Options
  - `:filters` - A list of filters to apply to the query. Each filter can be a tuple of `{field, value}` or `{field, value, operator}`.
    Supported operators are `:like`, `:in`, `:not_in`, `:begins_with`, and `:ends_with`. Supported fields are those defined in `Contact.__schema__(:fields)`
  - `:sort` - A list of tuples for sorting, where each tuple is `{field, direction}`. Supported fields are those defined in `Contact.__schema__(:fields)` and directions are `:asc` or `:desc`.
  - `:page` - The page number for pagination (default is 1).
  - `:page_size` - The number of contacts per page (default is 10).
  """
  def list_contacts(opts \\ []) do
    contacts_base_query()
    |&gt; apply_filters(opts)
    |&gt; apply_sorting(opts)
    |&gt; apply_pagination(opts)
    |&gt; Repo.all()
  end
</code></pre></div></div> <h2 id="building-a-base-ectoquery">Building a Base Ecto.Query</h2> <p>The first step in the pipeline is to get the “base” <code class="language-plaintext highlighter-rouge">Ecto.Query</code>. This is the datatype that is passed to each function in the pipeline.</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  defp contacts_base_query do
    from(c in Contact)
  end
</code></pre></div></div> <h2 id="applying-filters">Applying Filters</h2> <p>The Ecto.Query built by that function is passed into the <code class="language-plaintext highlighter-rouge">apply_filters/2</code> function along with the <code class="language-plaintext highlighter-rouge">opts</code> provided by the caller:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  defp apply_filters(query, opts) do
    opts
    |&gt; options(:filters)
    |&gt; Enum.filter(fn
      {field, _value} when field in @contacts_fields -&gt; true
      {field, _value, operator} when field in @contacts_fields and operator in @operators -&gt; true
      _ -&gt; false
    end)
    |&gt; Enum.reduce(query, fn
      {field, value}, acc -&gt;
        from c in acc, where: field(c, ^field) == ^value

      {field, value, :begins_with}, acc -&gt;
        from c in acc, where: like(field(c, ^field), ^"#{value}%")

      {field, value, :ends_with}, acc -&gt;
        from c in acc, where: like(field(c, ^field), ^"%#{value}")

      {field, value, :like}, acc -&gt;
        from c in acc, where: like(field(c, ^field), ^"%#{value}%")

      {field, value, :in}, acc -&gt;
        from c in acc, where: field(c, ^field) in ^value

      {field, value, :not_in}, acc -&gt;
        from c in acc, where: field(c, ^field) not in ^value

      _, acc -&gt;
        acc
    end)
  end
</code></pre></div></div> <p>The <code class="language-plaintext highlighter-rouge">apply_filters/2</code> function extracts the <code class="language-plaintext highlighter-rouge">:filters</code> from the <code class="language-plaintext highlighter-rouge">opts</code> and defaults to an empty list. It then filters the list to ensure that the parameters are in the correct format. The check ensures that only fields that are in the schema are used. If an operator is used it must be one of the supported options. If an element in the list does not meet the criteria it is discarded. The function then uses an <code class="language-plaintext highlighter-rouge">Enum.reduce/4</code> where the <code class="language-plaintext highlighter-rouge">Ecto.Query</code> is used as an accumulator. Any alteration of the criteria builds a new <code class="language-plaintext highlighter-rouge">Ecto.Query</code> which becomes the updated accumulator.</p> <h2 id="applying-sorting">Applying Sorting</h2> <p>The <code class="language-plaintext highlighter-rouge">apply_sorting/2</code> function is similar.</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  defp apply_sorting(query, opts) do
    opts
    |&gt; options(:sort)
    |&gt; Enum.filter(fn {field, direction} -&gt; field in @contacts_fields and direction in @directions end)
    |&gt; Enum.reduce(query, fn {field, direction}, acc -&gt;
      from c in acc, order_by: [{^direction, field(c, ^field)}]
    end)
  end
</code></pre></div></div> <p>The function extracts the <code class="language-plaintext highlighter-rouge">sort</code> options and defaults to an empty list. It then filters the list to ensure parameters are in the right format. Again, the <code class="language-plaintext highlighter-rouge">Ecto.Query</code> is used as the accumulator and sorts added build an updated <code class="language-plaintext highlighter-rouge">Ecto.Query</code> accumulator.</p> <h2 id="apply-pagination">Apply Pagination</h2> <p>The final function in the pipeline is <code class="language-plaintext highlighter-rouge">apply_pagination</code>. In this case the function will use pagination regardless of whether or not the caller specified <code class="language-plaintext highlighter-rouge">:page</code> or <code class="language-plaintext highlighter-rouge">:page_size</code>.</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  defp apply_pagination(query, opts) do
    page = opts[:page] || 1
    page_size = opts[:page_size] || 10

    query
    |&gt; offset(^((page - 1) * page_size))
    |&gt; limit(^page_size)
  end
</code></pre></div></div> <h2 id="execute-query">Execute Query</h2> <p>The final step is to pass the <code class="language-plaintext highlighter-rouge">Ecto.Query</code> to <code class="language-plaintext highlighter-rouge">Repo.all</code> to return results. In this case the list contains <code class="language-plaintext highlighter-rouge">[%Contact{}, ...]</code>.</p> <h2 id="problems-with-this-approach">Problems with this Approach</h2> <p>This is a trivial example. Although it is providing fairly robust capabilities (filters, sorting, pagination) it falls apart if we want to join to other tables (for example, lets assume there’s a phone_numbers table that has a foreign key to contacts to allow a contact to have any number of phone numbers). The reason this probably does not work is that we might want to filter on the phone number (for example, give me all the contacts in area code 678) but there’s no means of indicating what table a filter applies to. There’s a similar situation with sorting. I’ll create another post to indicate how that might be handled.</p> <p>There is some checking of the parameters provided but there is no notification (logging, telemetry) to indicate that the function received bad input. In most cases you would want to have that. I think it’s generally fine to have the code proceed if the input data can be cleaned up but I’d want to know that some part of the codebase is passing input data that will never work.</p> <h2 id="benefits-of-this-approach">Benefits of this Approach</h2> <p>Pipelining to build an <code class="language-plaintext highlighter-rouge">Ecto.Query</code> is a powerful tool that lets you write modules that provide filtering, sorting and pagination in a way that is fairly powerful while being easy to read and maintain.</p>]]></content><author><name></name></author><category term="elixir"/><summary type="html"><![CDATA[How to use Ecto pipelines to allow flexibility in queries]]></summary></entry><entry><title type="html">Atkin White Rice</title><link href="https://fmcgeough.github.io/blog/2025/atkin-white-rice/" rel="alternate" type="text/html" title="Atkin White Rice"/><published>2025-05-26T10:00:00+00:00</published><updated>2025-05-26T10:00:00+00:00</updated><id>https://fmcgeough.github.io/blog/2025/atkin-white-rice</id><content type="html" xml:base="https://fmcgeough.github.io/blog/2025/atkin-white-rice/"><![CDATA[<p>On Christmas Eve I had a proximal fracture of my right humerus. This means the break was in the upper part of the humerus. It was just below the head of the humerus that fits into the shoulder socket. This was both frustrating and painful.</p> <p>I broke it by slipping on some ice that was on the sidewalk just next door to our house. I had been out for about a 2 mile walk. It was a coldish day. The temperature was below freezing. However, the skies were clear. It hadn’t rained recently. As a result I wasn’t paying close enough attention to the sidewalk when I got back from my walk. There was a sprinkler system leak onto the sidewalk. It froze into a thin smooth ice surface. Then I went down like Charlie Brown trying to kick the football with Lucy as the holder.</p> <p>Falls are the most common reason for a proximal fracture. Since its a large bone there is significant pain. I lay for a few seconds figuring out how to get myself back up since my right arm was useless at this point. I managed to get back up and got back home. My wife took me over to the hospital for an x-ray to confirm that it was broken. Thankfully, the bone wasn’t displaced so no surgery was needed.</p> <p>However, these fractures take quite a long time to heal. I was in a sling for 4-5 weeks and then began physical therapy. Ultimately I actually had to use a bone stimulator (Exogen Ultrasound device) to encourage bone growth to get the break sealed up. This seemed to work fine and the last x-ray showed that the bone was healed. The bone healing is not the end of things though. It will take another few months to get the strength back in my upper arm and the level of flexibility that I had before the break.</p> <p>One of the hardest parts of this whole process is that I was unable to play guitar. A couple weeks after the sling came off I could manage to play an electric because it had a thinner body and I could get my arm around it without significant pain. However, even with the electric, I could only play for 5 or 10 minutes at a time.</p> <p>During all this downtime from guitar playing I was listening to a lot of new music and watching many guitar YouTube videos. It was on YouTube that I discovered Atkin Guitars. Atkin Guitars was founded in Canterbury, England, in 1995. They build a number of models that are homages to pre-war Gibson and Martin guitars. They also built a tribute guitar that was a copy of Tony Rice’s D-28 (serial # 58957).</p> <p>The reason Atkin Guitars built a tribute for this particular guitar is because it is famous in the world of acoustic guitars. Here’s some of the details of its story.</p> <p>The Tony Rice guitar was originally built in 1935. It has Brazilian rosewood back and sides and an Adirondack top. All of these guitars that are still around and in decent shape have an incredible sound and are worth quite a bit. In 1935 it would have sold for around $100. As far as I know between its build in 1935 and 1959 there’s no story of who owned the guitar and how badly it was treated.</p> <p>We do know that the guitar had seen some rough times. In 1959 fifteen year old bluegrass guitarist Clarence White bought the guitar for $25. It was really beat up and awaiting repairs. Some previous owner had whittled the soundhole to widen it (there some accounts that say Clarence White whittled this but according to Fretboard Journal it was “some anonymous whittler”). The original fingerboard was gone. It had been replaced with an ebony board that being held on with tape! He bought it and brought it home to his father. White’s father - who was a very good guitar repair person - declared it a lost cause. But White was determined. He took the guitar to luthier Milt Owen. Owen said he could make it playable for another $25. He found an old Gretsch blank with 22 frets that became the fingerboard. The guitar had been brought back to life.</p> <p>When Owen gave the guitar back to White he cautioned that he had set the guitar up with light gauge strings and that is what should be used on the guitar. He said putting heavy gauge strings on it would cause it to “belly up”. “Bellying” refers to bowing of the soundboard of an acoustic guitar. The constant tension applied by the strings causes the bridge to rotate forward towards the neck; resulting in the warping of the top (especially behind the bridge), a slight drop at the sound hole and a raised action.</p> <p>White seemingly immediately ignored this advice. So after just a year of use the action was incredibly high and it was almost unplayable. It was at this point that 9 year old music prodigy Tony Rice ran into the guitar at a music show in southern California. White let Rice play the guitar for as long as he wanted that day and Rice was impressed with the sound. He said “The only thing I knew was that it looked like hell but it sounded like a million bucks to a 9-year-old kid!” At some time later, as the guitar had become even more unplayable, White leaned the guitar against a tree and shot it with his pellet gun.</p> <p>Finally, in 1965, the guitar was sold (or given) to his friend Joe Miller in 1965. The story I heard is that he used the D-28 as collateral for a loan to a get a Telecaster. In any case, it’s new owner (Miller) left the guitar under his bed for 9 years.</p> <p>In 1975 a grown Tony Rice was playing with the New South. He and fiddler Bobby Sloan chatted about Clarence White (who had passed away in 1973). Sloan brought up White’s D-28 and said he had sold it to Joe Miller. Rice decided he’d really like to own that guitar. He only had Joe Miller’s name, knew that he lived in Southern California and knew that his family had a chain of liquor stores. Using that info he tracked down the right Joe Miller. He told him he’d like to buy the D-28. Miller was aware of Tony Rice’s talents and agreed to sell the guitar. The guitar was appraised and sold to Rice for $550. The guitar was eventually put back in working shape by Richard Hoover (who would co-found Santa Cruz Guitars later).</p> <p>While Tony Rice owned the guitar in 1993 he lived with his wife in Crystal River, Florida. A hurricane hit in the middle of the night and they were evacuated without a chance to grab anything (including the D-28). The home flooded. The guitar was under water for a couple hours before it was retrieved but it no longer sounded like it used to. Five years later a man named Harry Sparks slowly dried out the guitar. This caused a lot of the bracings to come loose. Eventually luthier and friend Snuffy Smith reglued all the bracings and got it back to its former glory.</p> <p>This guitar became legendary. It was used on any number of famous recordings. The enlarged soundhole gave it a unique volume and projection. There is a Tony Rice album called “58957: The Bluegrass Guitar Collection” where the guitar is used on 21 different bluegrass songs. He was joined on that album by Doc Watson, Sam Bush, Norman Blake, and many other masterful musicians.</p> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <img src="https://upload.wikimedia.org/wikipedia/commons/4/42/Tony_Rice_RockyGrass.jpg" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </div> </div> <div class="caption"> Tony Rice and His Legendary D-28 </div> <p>There are a number of guitar makers who have crafted replicas of Rice’s iconic guitar. Santa Cruz has a Tony Rice model. So does Bourgeois, Martin, Huss &amp; Dalton, Collins and, the aforementioned, Atkin Guitars.</p> <p>After watching lots of Atkin Guitar videos and hearing a number of artists playing various models I decided I’d try and trade my Lowden F-34 guitar and get the Atkin Tony Rice model. The Lowden was amazing but I really wanted the Atkin model.</p> <p>Atkin Guitars decided to name their replica the “White Rice” model as an homage to both Clarence White and Tony Rice. They sell it with both a Madagascar rosewood back and sides and one with Indian rosewood. I found one at Music Emporium in Boston Massachusetts with the Madagascar rosewood, worked out a trade for my Lowden (and forked over some more $$$) and got the Atkin Guitar.</p> <p>It’s only been recently that I’ve been able to play the new guitar for more than a couple minutes. It’s amazing and easily the best acoustic I own. I’d like to get another Atkin Guitars model at some point. Maybe their homage to the Gibson J-45.</p> <p>The Atkin White Rice I purchased has:</p> <ul> <li>Madagascar Rosewood Back &amp; Sides</li> <li>Torrefied Adirondack Spruce Top</li> <li>Ebony Bridge and Fingerboard</li> <li>Nickel Gotoh Tuners</li> <li>Scalloped Forward Shifted Bracing</li> <li>Aged Nitrocellulose Lacquer</li> <li>Nut Width is 1 11/16”</li> <li>Neck carve is Medium C</li> <li>Scale length 25 1/2”</li> <li>String spacing 2 3/16”</li> </ul> <p>There are no inlays on the guitar. There were none on the original Tony Rice D-28.</p> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <img src="https://github.com/fmcgeough/blog_posts/blob/main/img/2025-05-26-front-atkin-white-rice.png?raw=true" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </div> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <img src="https://github.com/fmcgeough/blog_posts/blob/main/img/2025-05-26-back-atkin-white-rice.png?raw=true" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </div> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <img src="https://github.com/fmcgeough/blog_posts/blob/main/img/2025-05-26-side-atkin-white-rice.png?raw=true" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </div> </div> <div class="caption"> Atkin White Rice Custom Madagascar </div>]]></content><author><name></name></author><category term="guitar"/><summary type="html"><![CDATA[My new D-28 style guitar]]></summary></entry><entry><title type="html">Elixir - Iex History</title><link href="https://fmcgeough.github.io/blog/2025/iex-history/" rel="alternate" type="text/html" title="Elixir - Iex History"/><published>2025-04-19T00:00:00+00:00</published><updated>2025-04-19T00:00:00+00:00</updated><id>https://fmcgeough.github.io/blog/2025/iex-history</id><content type="html" xml:base="https://fmcgeough.github.io/blog/2025/iex-history/"><![CDATA[<p>There are any number of notes around showing how to enable history in iex (the Elixir language repl). You need to set a system environment variable for this to work. Add the following line:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>export ERL_AFLAGS="-kernel shell_history enabled"
</code></pre></div></div> <p>to either <code class="language-plaintext highlighter-rouge">~/.bash_profile</code> (for bash users) or <code class="language-plaintext highlighter-rouge">~/.zshev</code> (for zsh users).</p> <p>You may need to completely exit iTerm if using OS X to enable iex history after setting up this environment variable.</p> <p>This enables history in both iex and erl (Erlang repl). Note: the history is shared between iex and erl.</p>]]></content><author><name></name></author><category term="elixir"/><summary type="html"><![CDATA[How to enable history for Elixir iex]]></summary></entry></feed>